/* STAFF_RECORDS TABLE CREATION QUERY*/
	
    CREATE TABLE STAFF_RECORDS(SN NUMBER(10),
    FirstName VARCHAR2(255),
    LastName VARCHAR2(255),
    SEX VARCHAR2(10),
    MaritalStatus VARCHAR2(10),
    DateOfBirth VARCHAR2(255),
    ADDRESS VARCHAR2(255),
    PHONE VARCHAR2(20),
    STAFF_ID VARCHAR2(255),
	SALARY NUMBER(20),
	DATE_OF_JOINING VARCHAR2(255),
    PRIMARY KEY(STAFF_ID)
    );
    
	/*INSERTING VALUES INTO THE CREATED TABLE*/
	
    INSERT INTO STAFF_RECORDS VALUES (1,'ABRAHAM','ISAAC','M','M','1987-06-23','9 ABE CLOSE','+2340981237884','S_8475',200000,'2017-08-13');
    
    INSERT INTO STAFF_RECORDS VALUES (2,'MARK','OKORO','M','M','1977-02-11','19 SIMON COWELL STREET','+2349784237858','S_21454',150000,'2007-03-10');
    
    INSERT INTO STAFF_RECORDS VALUES (3,'CHIOMA','AGUTA','F','S','1994-09-19','3 KINGSTON CLOSE','+2347876345891','S_12387',500000,'2018-01-23');
    
    INSERT INTO STAFF_RECORDS VALUES (4,'MICHAEL','FRANK','M','M','1980-07-10','9 ABE CLOSE','+2347589761431','S_7474',250000,'2010-09-10');
    
    INSERT INTO STAFF_RECORDS VALUES (5,'CHINWE','IGWE','F','S','1987-05-12','SINATRA AVENUE','+2349086135821','S_1343',120000,'2015-01-23');
    
    INSERT INTO STAFF_RECORDS VALUES (6,'UGOCHI','OKORO','F','S','1977-03-10','APA AVENUE','+2349876435821','S_0994',700000,'2006-06-13');
    
    INSERT INTO STAFF_RECORDS VALUES (7,'JOHN','AUDU','F','S','1993-03-10','APA AVENUE','+2348970912829','S_34562',100000,'2018-04-20');
    INSERT INTO STAFF_RECORDS VALUES (8,'STANLEY','OKORO','M','S','1987-03-10','SINATRA AVENUE','+2348979824826','S_6453',250000,'2007-07-24');
    INSERT INTO STAFF_RECORDS VALUES (9,'CHRISTABEL','FRANK','F','S','1967-03-10','APA AVENUE','+2348998546822','S_5484',900000,'1995-08-17');
    INSERT INTO STAFF_RECORDS VALUES (10,'STACY','JOHN','F','S','1987-03-10','3 KINGSTON CLOSE','+2348562535887','S_47373',200000,'2009-09-30');
    INSERT INTO STAFF_RECORDS VALUES (11,'EHIMEN','OKODUWA','M','M','1990-03-10','APA AVENUE','+237754858578','S_9987',200000,'2015-08-13');


/*PL/SQL PROCEDURE TO COUNT TOTAL NUMBER OF EMPLOYEES*/


CREATE OR REPLACE PROCEDURE EmpNo(location IN STAFF_RECORDS.ADDRESS%TYPE,RESPONSE OUT STAFF_RECORDS.STAFF_ID%TYPE)
IS
BEGIN
	SELECT COUNT(STAFF_ID) INTO RESPONSE FROM STAFF_RECORDS WHERE ADDRESS = location;
	DBMS_OUTPUT.put_line(RESPONSE);
END;
/
	
/*CALLING THE PROCEDURE*/
DECLARE
	VALUE STAFF_RECORDS.STAFF_ID%TYPE;
BEGIN
	EmpNo('SINATRA AVENUE',VALUE);
END;
/
	
	

/*PL/SQL PROCEDURE TO CALCULATE THE AVERAGE SALARY OF EMPLOYEES*/


CREATE OR REPLACE PROCEDURE AvgSal(location IN STAFF_RECORDS.ADDRESS%TYPE,AVERAGE OUT STAFF_RECORDS.SALARY%TYPE)
IS
BEGIN
	SELECT AVG(SALARY) INTO AVERAGE FROM STAFF_RECORDS WHERE ADDRESS = location;
	DBMS_OUTPUT.put_line(AVERAGE);
END;
/
	
/*CALLING THE PROCEDURE*/
DECLARE
	VALUE STAFF_RECORDS.SALARY%TYPE;
BEGIN
	AvgSal('APA AVENUE',VALUE);
END;
/



/*PL/SQL PROCEDURE TO CALCULATE THE TOTAL SALARY OF EMPLOYEES*/


CREATE OR REPLACE PROCEDURE TotalSal(location IN STAFF_RECORDS.ADDRESS%TYPE,SUMMATION OUT STAFF_RECORDS.SALARY%TYPE)
IS
BEGIN
	SELECT SUM(SALARY) INTO SUMMATION FROM STAFF_RECORDS WHERE ADDRESS = location;
	DBMS_OUTPUT.put_line(SUMMATION);
END;
/
	
/*CALLING THE PROCEDURE*/
DECLARE
	VALUE STAFF_RECORDS.SALARY%TYPE;
BEGIN
	TotalSal('APA AVENUE',VALUE);
END;
/





/*PL/SQL PROCEDURE TO DISPLAY EMPLOYEE DATE_OF_JOINING*/


CREATE OR REPLACE PROCEDURE JOIN_DATE(location IN STAFF_RECORDS.ADDRESS%TYPE,DATE_VALUE OUT STAFF_RECORDS.DATE_OF_JOINING%TYPE)
IS
BEGIN
	SELECT DATE_OF_JOINING INTO DATE_VALUE FROM STAFF_RECORDS WHERE ADDRESS = location;
	DBMS_OUTPUT.put_line(DATE_VALUE);
END;
/
	


/*PL/SQL PROCEDURE TO DISPLAY EMPLOYEE SALARY*/


CREATE OR REPLACE PROCEDURE SAL(location IN STAFF_RECORDS.ADDRESS%TYPE,SALARY_VALUE OUT STAFF_RECORDS.SALARY%TYPE)
IS
BEGIN
	SELECT SALARY INTO SALARY_VALUE FROM STAFF_RECORDS WHERE ADDRESS = location;
	DBMS_OUTPUT.put_line(SALARY_VALUE);
END;
/
	



/*PL/SQL PROCEDURE TO DISPLAY EMPLOYEE NAME*/


CREATE OR REPLACE PROCEDURE FNAME(location IN STAFF_RECORDS.ADDRESS%TYPE,NAME_VALUE OUT STAFF_RECORDS.FirstName%TYPE)
IS
BEGIN
	SELECT FirstName INTO NAME_VALUE FROM STAFF_RECORDS WHERE ADDRESS = location;
	DBMS_OUTPUT.put_line(NAME_VALUE);
END;
/
	





/*PL/SQL PROCEDURE TO DISPLAY EMPLOYEE NUMBER*/


CREATE OR REPLACE PROCEDURE EMPNUM(location IN STAFF_RECORDS.ADDRESS%TYPE,ID_VALUE OUT STAFF_RECORDS.STAFF_ID%TYPE)
IS
BEGIN
	SELECT STAFF_ID INTO ID_VALUE FROM STAFF_RECORDS WHERE ADDRESS = location;
	DBMS_OUTPUT.put_line(ID_VALUE);
END;
/
	
